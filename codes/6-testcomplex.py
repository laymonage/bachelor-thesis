def test_nested_key_transform_expression(self):
    self.assertSequenceEqual(
        NullableJSONModel.objects.filter(value__d__0__isnull=False).annotate(
            key=KeyTransform('d', 'value'),
            chain=KeyTransform('f', KeyTransform('1', 'key')),
            expr=KeyTransform(
                'f', KeyTransform('1', Cast('key', models.JSONField()))
            ),
        ).filter(chain=F('expr')),
        [self.objs[4]],
    )
